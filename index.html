<!DOCTYPE html>
<html>
<head>
    <title>Dnyanvani 90.4FM - Interactive Book</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/turn.js/4.1.1/turn.min.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background: #2c3e50;
        }
        
        #header {
            position: fixed;
            top: 0;
            width: 100%;
            background: white;
            padding: 10px;
            text-align: center;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        #flipbook {
            width: 1000px;
            height: 700px;
            margin-top: 80px;
        }
        
        .page {
            background: white;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .page img {
            max-width: 95%;
            max-height: 95%;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
    <div id="header">
        <h1 style="margin: 0; color: #2c3e50;">Dnyanvani 90.4FM Community Radio</h1>
        <h3 style="margin: 5px 0; color: #7f8c8d;">DYPU - School of Creative Studies</h3>
    </div>
    
    <div id="flipbook"></div>

    <script>
    $(document).ready(function() {
        // Create pages array (front + 30 pages + back)
        const totalPages = 32; // 30 content + 2 covers
        
        // Initialize flipbook first
        $('#flipbook').turn({
            width: 1000,
            height: 700,
            autoCenter: true,
            display: 'double',
            acceleration: true,
            duration: 1000,
            pages: totalPages,
            when: {
                missing: function(e, pageNumbers) {
                    // Add pages dynamically
                    for(let i = 0; i < pageNumbers.length; i++) {
                        const page = pageNumbers[i];
                        let imgSrc;
                        
                        if(page === 1) imgSrc = 'front.png';
                        else if(page === 32) imgSrc = 'back.png';
                        else imgSrc = (page-1) + '.png';
                        
                        this.addPage(createPage(imgSrc), page);
                    }
                }
            }
        });
        
        // Add first page immediately
        $('#flipbook').turn('addPage', createPage('front.png'), 1);

        function createPage(imgSrc) {
            return $('<div>', {
                class: 'page',
                html: $('<img>', {src: imgSrc})
            });
        }

        // Handle window resize
        $(window).on('resize', function() {
            $('#flipbook').turn('size', 1000, 700);
        });
    });
    </script>
</body>
</html>

<!doctype html>
<html>
<head>
<title>Dnyanvani 90.4FM Flipbook - Debugging Version</title>
<script src="https://code.jquery.com/jquery-1.7.1.min.js"></script>
<script src="turn.min.js"></script>
<style type="text/css">
body{
    background:#e0e0e0;
    font-family: sans-serif;
    margin: 20px;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
}

#dnyanvani-magazine{
    width: 1500px;
    height: 1500px;
    background-color: #fff;
    box-shadow: 0 0 20px rgba(0,0,0,0.5);
    margin: 0 auto;
}

#dnyanvani-magazine .turn-page{
    background-color:#fff;
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
}

#dnyanvani-magazine .hard {
    background-color: #ddd;
    color: #333;
    text-align: center;
    font-size: 1.2em;
    padding-top: 50%;
    box-shadow: inset 0 0 5px rgba(0,0,0,0.3);
}
#dnyanvani-magazine .hard:before {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    border: 20px solid #ccc;
    box-sizing: border-box;
    pointer-events: none;
}


#dnyanvani-magazine,
#dnyanvani-magazine .turn-page {
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
}
/* Ensure interactive elements are above flipbook */
body * {
    position: relative;
    z-index: 1;
}
#dnyanvani-magazine {
    z-index: 0; /* Ensure flipbook is behind interactive elements if needed */
}

</style>
</head>
<body>

<div id="dnyanvani-magazine">
    <div class="hard"> <br> <h1>Dnyanvani 90.4FM</h1> <br>Flipbook</div>
    <div class="hard"> Inner Front Cover </div>  <div style="background-image:url(1.png);"></div>
    <div style="background-image:url(2.png);"></div>
    <div style="background-image:url(3.png);"></div>
    <div style="background-image:url(4.png);"></div>
    <div style="background-image:url(5.png);"></div>
    <div style="background-image:url(6.png);"></div>
    <div style="background-image:url(7.png);"></div>
    <div style="background-image:url(8.png);"></div>
    <div style="background-image:url(9.png);"></div>
    <div style="background-image:url(10.png);"></div>
    <div style="background-image:url(11.png);"></div>
    <div style="background-image:url(12.png);"></div>
    <div style="background-image:url(13.png);"></div>
    <div style="background-image:url(14.png);"></div>
    <div style="background-image:url(15.png);"></div>
    <div style="background-image:url(16.png);"></div>
    <div style="background-image:url(17.png);"></div>
    <div style="background-image:url(18.png);"></div>
    <div style="background-image:url(19.png);"></div>
    <div style="background-image:url(20.png);"></div>
    <div style="background-image:url(21.png);"></div>
    <div style="background-image:url(22.png);"></div>
    <div style="background-image:url(23.png);"></div>
    <div style="background-image:url(24.png);"></div>
    <div style="background-image:url(25.png);"></div>
    <div style="background-image:url(26.png);"></div>
    <div style="background-image:url(27.png);"></div>
    <div style="background-image:url(28.png);"></div>
    <div style="background-image:url(29.png);"></div>
    <div style="background-image:url(30.png);"></div>
    <div class="hard"> Inner Back Cover </div> <div class="hard"> Back Cover </div>
</div>

<script type="text/javascript">
    $(window).ready(function() {
        var magazine = $("#dnyanvani-magazine");

        // Debugging: Check if jQuery and Turn.js are loaded
        if (typeof $ === 'undefined') {
            console.error('jQuery is not loaded!');
        } else {
            console.log('jQuery is loaded.');
        }
        if (typeof magazine.turn === 'undefined') {
            console.error('Turn.js is not loaded or not correctly applied to #dnyanvani-magazine!');
        } else {
            console.log('Turn.js is loaded and will be applied.');
        }


        magazine.turn({
            width: 1500,
            height: 1500,
            display: 'double',
            autoCenter: true,
            gradients: true,
            acceleration: true,
            elevation: 50,
            pages: 34, // Corrected page count: 4 hard covers + 30 content
            when: {
                turning: function(event, page, view) {
                    console.log('Turning from page: ' + page + ', view: ' + view);
                },
                turned: function(event, page, view) {
                    console.log('Turned to page: ' + page + ', view: ' + view);
                },
                start: function(event, pageObj, corner) {
                    console.log('Start turning, pageObj:', pageObj, ', corner:', corner);
                },
                end: function(event, turned) {
                    console.log('Turning animation ended. Pages turned:', turned);
                },
                missing: function(event, pages) {
                    console.log('Missing pages requested: ', pages); // Debug missing pages
                }
            }
        });

        // Optional: Keyboard navigation
        $(window).bind('keydown', function(e){
            if (e.keyCode==37) {
                magazine.turn('previous');
            } else if (e.keyCode==39) {
                magazine.turn('next');
            }
        });

        // Debugging: Test click event on the magazine container
        magazine.on('click', function() {
            console.log('Magazine container clicked!');
        });

    });
</script>

</body>
</html>

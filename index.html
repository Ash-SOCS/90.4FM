<!DOCTYPE html>
<html>
<head>
    <title>D.Y.Patil University - School of Creative Studies</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/turn.js/3/turn.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@300&display=swap" rel="stylesheet">
    <style>
        /* Add to existing styles */
        .hard {
            transform-style: preserve-3d;
            perspective: 1000px;
        }
        
        #flipbook .page-wrapper {
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .powered-by {
            font-family: 'Oswald', sans-serif;
            letter-spacing: 1px;
            margin: 20px 0;
            font-size: 14px;
            opacity: 0.8;
        }

        @media (orientation: landscape) {
            #flipbook-container {
                transform: scale(0.9);
            }
        }
    </style>
</head>
<body>
    <!-- Existing body content remains the same until powered by section -->
    
    <h3 class="powered-by">Powered by Ashirwad Das</h3>

    <script>
        // Add these modifications to existing script
        $(document).ready(function() {
            // Enhanced flipbook config
            const flipbook = $("#flipbook").turn({
                width: 800,
                height: 400,
                autoCenter: true,
                duration: 600, // Smoother animation
                gradients: true,
                acceleration: true,
                when: {
                    turning: function(event, page, view) {
                        $("#page-number").text(page);
                    },
                    turned: function(e, page) {
                        // Play flip sound
                        const context = new AudioContext();
                        const oscillator = context.createOscillator();
                        const gainNode = context.createGain();
                        oscillator.connect(gainNode);
                        gainNode.connect(context.destination);
                        oscillator.type = "square";
                        gainNode.gain.setValueAtTime(0.1, context.currentTime);
                        oscillator.frequency.setValueAtTime(300, context.currentTime);
                        oscillator.start();
                        oscillator.stop(context.currentTime + 0.1);
                    }
                }
            });

            // Prevent mobile zoom
            document.addEventListener('touchmove', function(e) {
                e.preventDefault();
            }, { passive: false });

            // Double tap prevention
            let lastTap = 0;
            flipbook.on('touchend', function(e) {
                const currentTime = new Date().getTime();
                const tapLength = currentTime - lastTap;
                if (tapLength < 500 && tapLength > 0) {
                    e.preventDefault();
                }
                lastTap = currentTime;
            });

            // Existing code remains...
        });

        // Viewport control
        function setViewport() {
            const viewport = document.querySelector("meta[name=viewport]");
            if (window.orientation === 90 || window.orientation === -90) {
                viewport.setAttribute('content', 'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0');
            } else {
                viewport.setAttribute('content', 'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0');
            }
        }
        window.onorientationchange = setViewport;
        setViewport();
    </script>
</body>
</html>

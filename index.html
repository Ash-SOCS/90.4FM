<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dnyanvani 90.4FM Flipbook</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/turn.js/4.1.1/turn.min.js"></script>
    <style>
        /* Reset */
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
            background: #2c3e50;
        }

        /* Flipbook Container */
        #flipbook-container {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
        }

        /* Flipbook */
        #flipbook {
            width: 1000px;
            height: 700px;
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            background: white;
            box-shadow: 0 0 30px rgba(0,0,0,0.5);
        }

        /* Pages */
        .page {
            background: white;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
        }

        /* Header */
        .dnyanvani-header {
            position: absolute;
            top: 20px;
            width: 100%;
            text-align: center;
            color: white;
            z-index: 1000;
            font-family: Arial, sans-serif;
        }
    </style>
</head>
<body>

<div class="dnyanvani-header">
    <h1>Dnyanvani 90.4FM Community Radio</h1>
    <h3>ज्ञानवाणी - जनतेचे रेडिओ</h3>
</div>

<div id="flipbook-container">
    <div id="flipbook">
        <!-- Front Cover -->
        <div class="page" style="background-image:url('front.png')"></div>
        
        <!-- Content Pages -->
        <div class="page" style="background-image:url('1.png')"></div>
        <div class="page" style="background-image:url('2.png')"></div>
        <!-- Continue up to 30.png -->
        
        <!-- Back Cover -->
        <div class="page" style="background-image:url('back.png')"></div>
    </div>
</div>

<script>
$(document).ready(function() {
    const totalPages = 32; // 30 content + 2 covers

    $('#flipbook').turn({
        width: 1000,
        height: 700,
        display: 'double',
        acceleration: true,
        elevation: 50,
        gradients: true,
        duration: 1000,
        autoCenter: true,
        pages: totalPages,
        when: {
            missing: function(e, pages) {
                pages.forEach(page => {
                    const img = page === 1 ? 'front.png' :
                              page === totalPages ? 'back.png' :
                              `${page-1}.png`;
                    
                    this.addPage(
                        `<div class="page" style="background-image:url(${img})"></div>`,
                        page
                    );
                });
            },
            turned: function(e, page) {
                // Prevent flipping past covers
                if(page < 2) this.turn('page', 2);
                if(page > totalPages-1) this.turn('page', totalPages-1);
            }
        }
    });

    // Keyboard navigation
    $(document).on('keydown', function(e) {
        if(e.keyCode === 37) $('#flipbook').turn('previous');
        if(e.keyCode === 39) $('#flipbook').turn('next');
    });

    // Touch support
    if($.isTouch) {
        $('#flipbook').on('touchend', function(e) {
            const touch = e.originalEvent.changedTouches[0];
            const x = touch.pageX;
            const w = $(this).width()/2;
            if(x > w) $(this).turn('next');
            else $(this).turn('previous');
        });
    }
});
</script>

</body>
</html>
